<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Control | Mr. Roberson</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>

<body class="dashboard-body">

    <div class="server-bg-layer-1"></div>
    <div class="server-bg-layer-2"></div>
    <div class="vignette"></div>

    <div class="dashboard-container">

        <header class="dashboard-header">

            <div class="header-top-row">
                <div class="brand-section">
                    <img src="../rh-logo.png" alt="Logo" class="dash-logo">
                    <div class="title-group">
                        <h2 class="code-title" style="font-size: 1.8rem;">Hello, Hawk!</h2>
                        <div class="teacher-meta">Mr. Roberson // Computer Science</div>
                    </div>
                </div>

                <div class="course-list-display">
                    <span class="course-badge">AP Comp Sci A</span>
                    <span class="course-badge">Honors CS 1</span>
                    <span class="course-badge">Adv. Cloud Computing</span>
                </div>
            </div>

            <div class="control-bar">
                <label for="newsletter-select" class="terminal-label">>> Select_Transmission:</label>
                <select id="newsletter-select" class="terminal-select" onchange="loadNewsletter()"></select>

                <a href="../" class="back-link">[ Return to Root ]</a>
            </div>

        </header>

        <main class="iframe-wrapper">
            <iframe id="newsletter-frame" title="Newsletter Content"></iframe>
        </main>

    </div>

    <script>
        function loadNewsletterOptions() {
            var options = [
                { 'name': '2-23_to_2-27', 'value': 'Feb 23 - Feb 27' },
                { 'name': '2-16_to_2-20', 'value': 'Feb 16 - Feb 20' },
                { 'name': '1-20_to_1-23', 'value': 'Jan 20 - Jan 23'},
                { 'name': '1-12_to_1-16', 'value': 'Jan 12 - Jan 16' },
                { 'name': '12-29_to_1-2', 'value': 'Dec 29 - Jan 2' },
                { 'name': '12-15_to_12-19', 'value': 'Dec 15 - Dec 19' },
            ];
            const selector = document.getElementById('newsletter-select');
            var selected = "selected";
            var optionsString = "";
            options.forEach((opt, index) => {
                optionsString += '<option value="' + opt.name + '.html" ' + selected + '>' + opt.value + '</option>';
                selected = "";
            });
            selector.innerHTML = optionsString;
        }
        function loadNewsletter() {
            var cacheBuster = Math.floor(Math.random() * 10000000) + 1;
            const selector = document.getElementById('newsletter-select');
            const iframe = document.getElementById('newsletter-frame');
            iframe.src = selector.value + "?r=" + cacheBuster;
        }

        loadNewsletterOptions();
        loadNewsletter();
    </script>
    <script src="../script.js"></script>
</body>

</html>